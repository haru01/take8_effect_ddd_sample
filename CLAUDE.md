# å±¥ä¿®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  - å®Ÿè£…çŠ¶æ³ã¨é–‹ç™ºã‚¬ã‚¤ãƒ‰

## æ¦‚è¦
Effect-TSã‚’ç”¨ã„ãŸCQRS/ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°å±¥ä¿®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…çŠ¶æ³ã¨é–‹ç™ºæ–¹é‡ã€‚


## å®Ÿè£…çŠ¶æ³

### âœ… å®Œäº†ï¼ˆ15-20%ï¼‰
**åŸºç›¤å®Ÿè£…**: å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆBrandå‹ï¼‰ã€é›†ç´„ï¼ˆRegistrationSessionï¼‰ã€ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ©ãƒ¼ä½“ç³»ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã€ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚¤ãƒ³ãƒ•ãƒ©ã€å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆ

**å®Œæˆã‚¹ãƒˆãƒ¼ãƒªãƒ¼**:
- ã‚¹ãƒˆãƒ¼ãƒªãƒ¼1: å±¥ä¿®ç™»éŒ²ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹
- ã‚¹ãƒˆãƒ¼ãƒªãƒ¼2: ç§‘ç›®ä¸€æ‹¬è¿½åŠ ï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãï¼‰

**å“è³ªçŠ¶æ³**: 91.87%ã‚«ãƒãƒ¬ãƒƒã‚¸ã€65ãƒ†ã‚¹ãƒˆé€šéã€TypeScriptã‚¨ãƒ©ãƒ¼0

**æŠ€è¡“ç‰¹å¾´**:
- Effect-TSã«ã‚ˆã‚‹å‹å®‰å…¨ãªé–¢æ•°å‹å®Ÿè£…
- CQRS/ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³
- AcceptanceTDDï¼ˆæ®µéšçš„ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼‰
- ã‚·ãƒ³ãƒ—ãƒ«é †æ¬¡ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### âŒ æœªå®Ÿè£…ï¼ˆ80-85%ï¼‰

**æ¬¡æœŸé–‹ç™ºå¯¾è±¡**: ã‚»ãƒƒã‚·ãƒ§ãƒ³æå‡ºã€ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼æ‰¿èªã€å±¥ä¿®é–‹å§‹ãƒ»å®Œäº†ã€æˆç¸¾ä»˜ä¸ã€PostgreSQLç§»è¡Œã€REST API

**è¨­è¨ˆæ¸ˆã¿ã‚¤ãƒ™ãƒ³ãƒˆ**: RegistrationSessionSubmittedã€RegistrationSessionApprovedã€RegistrationSessionRejectedã€EnrollmentStartedã€EnrollmentCompleted

## é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### ğŸ¯ Phase 2: ã‚¹ãƒˆãƒ¼ãƒªãƒ¼3ï¼ˆå±¥ä¿®ç™»éŒ²æå‡ºï¼‰
**ç›®æ¨™**: Draftâ†’SubmittedçŠ¶æ…‹é·ç§»ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### Phase 3: å±¥ä¿®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ï¼ˆ4-6é€±é–“ï¼‰
**ç›®æ¨™**: æ‰¿èªâ†’å±¥ä¿®é–‹å§‹ã®å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### Phase 4: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³åŸºç›¤ï¼ˆ8-12é€±é–“ï¼‰
**ç›®æ¨™**: PostgreSQLã€æŠ•å½±ã€REST API

## é–‹ç™ºè€…å‘ã‘ã‚¬ã‚¤ãƒ‰

### é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
npm install
npm run test        # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test:coverage # ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
npm run dev         # ãƒ‡ãƒ¢ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œ
npm run typecheck   # TypeScriptå‹ãƒã‚§ãƒƒã‚¯
```

### AcceptanceTDDé–‹ç™ºæ‰‹æ³•ï¼ˆå¿…é ˆï¼‰

**åŸå‰‡**: æ®µéšçš„å®Ÿè£…ï¼ˆRedâ†’Greenâ†’Refactorï¼‰ã€æœ€å°é™ã‚³ãƒ¼ãƒ‰ã€ç¶™ç¶šçš„æ”¹å–„

**3æ®µéšã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:
1. **åŸºæœ¬æ­£å¸¸ç³»**: æœ€é‡è¦å—ã‘å…¥ã‚Œæ¡ä»¶1ã¤ã®å®Œæˆ
2. **ä¸»è¦ç•°å¸¸ç³»**: ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ®µéšçš„å®Ÿè£…
3. **å¢ƒç•Œå€¤ãƒ»ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹**: åŒ…æ‹¬çš„å“è³ªç¢ºä¿

**ãƒ†ã‚¹ãƒˆæ§‹æˆ**: Given-When-Thenãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³æ´»ç”¨ã€æ®µéšçš„ãƒ†ã‚¹ãƒˆæœ‰åŠ¹åŒ–ï¼ˆ`it.skip()` â†’ `it()`ï¼‰

**å‘½åè¦å‰‡**: æ—¥æœ¬èªã‚¹ãƒˆãƒ¼ãƒªãƒ¼åã€AC1/AC2ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã€ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤é‡è¦–

### ã‚³ãƒ¼ãƒ‰è¦ç´„
1. **Effect-TSå„ªå…ˆ**: Promiseã§ã¯ãªãå¸¸ã«Effectã‚’ä½¿ç”¨
2. **Brandå‹æ´»ç”¨**: ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å€¤ã«ã¯å¿…ãšBrandå‹ã‚’é©ç”¨
3. **ä¸å¤‰æ€§**: ã™ã¹ã¦ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«
4. **AcceptanceTDDå¿…é ˆ**: æ–°æ©Ÿèƒ½ã¯å¿…ãšAcceptanceTDDã§æ®µéšçš„å®Ÿè£…
5. **å‹å®‰å…¨**: `any`å‹ã®ä½¿ç”¨ç¦æ­¢ã€å®Œå…¨ãªå‹æ³¨é‡ˆ

### AcceptanceTDDå“è³ªåŸºæº–ï¼ˆå¿…é ˆï¼‰
1. **æ®µéšçš„å®Ÿè£…**: å—ã‘å…¥ã‚Œæ¡ä»¶ã‚’1ã¤ãšã¤å®Œäº†ï¼ˆä¸€æ‹¬å®Ÿè£…ç¦æ­¢ï¼‰
2. **TDDã‚µã‚¤ã‚¯ãƒ«**: å„å—ã‘å…¥ã‚Œæ¡ä»¶ã§Redâ†’Greenâ†’Refactorã‚µã‚¤ã‚¯ãƒ«å®Ÿè¡Œ
3. **æœ€å°é™å®Ÿè£…**: å„ãƒ¢ãƒ¼ãƒ‰ã§éå‰°å®Ÿè£…å›é¿ã€å¿…è¦æœ€å°é™ã®å®Ÿè£…
4. **ç¶™ç¶šçš„ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: å„ãƒ¢ãƒ¼ãƒ‰å®Œäº†æ™‚ã®è¨­è¨ˆå“è³ªå‘ä¸Š
5. **ãƒ†ã‚¹ãƒˆé€²è¡Œç®¡ç†**: `it.skip()` ã‹ã‚‰ `it()` ã¸ã®æ®µéšçš„å¤‰æ›´è¨˜éŒ²
6. **ãƒ¢ãƒ¼ãƒ‰åˆ¥ã‚³ãƒŸãƒƒãƒˆ**: Phaseæ¯ã®ç‹¬ç«‹ã—ãŸã‚³ãƒŸãƒƒãƒˆã«ã‚ˆã‚‹é€²æ—ç®¡ç†

### ãƒ†ã‚¹ãƒˆå“è³ªåŸºæº–ï¼ˆå¿…é ˆéµå®ˆï¼‰

#### Effect.flipãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å¤±æ•—ãƒ†ã‚¹ãƒˆ
```typescript
// âœ… æ¨™æº–çš„ãªå¤±æ•—ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
it("AC2: åŒä¸€å­¦ç”Ÿãƒ»å­¦æœŸã§ã®é‡è¤‡ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆã‚’é˜²æ­¢ã™ã‚‹", () =>
  Effect.gen(function* () {
    // Given: æ—¢å­˜ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹çŠ¶æ³
    const { studentId, term } = yield* givenValidStudentAndTerm();
    const firstSessionId = yield* createRegistrationSession({ studentId, term });

    // When: åŒã˜æ¡ä»¶ã§å†åº¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆã‚’è©¦è¡Œï¼ˆå¤±æ•—ãŒæœŸå¾…ã•ã‚Œã‚‹ï¼‰
    const error = yield* createRegistrationSession({ studentId, term }).pipe(
      Effect.flip // å¤±æ•—ã‚’Successã«å¤‰æ›ã—ã¦æ•æ‰
    );

    // Then: æœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼ã®è©³ç´°æ¤œè¨¼
    thenDuplicateSessionErrorOccurs(error, firstSessionId);
  })
    .pipe(Effect.provide(TestLayer))
    .pipe(Effect.runPromise)
);

// âŒ æ‚ªã„ä¾‹: try-catchã‚„Promise.rejectã®ä½¿ç”¨
try {
  await createRegistrationSession({ studentId, term });
  expect.fail("Should have thrown error");
} catch (error) {
  // Effect-TSã®å‹å®‰å…¨æ€§ã‚’æãªã†
}
```

#### TestLayeræ§‹æˆã®æ¨™æº–ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// âœ… æ¨™æº–çš„ãªTestLayeræ§‹æˆ
const TestLayer = Layer.mergeAll(
  InMemoryEventStore,                    // ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆã‚¢
  InMemoryEventBus,                      // ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹
  InMemoryRegistrationSessionRepository.pipe(  // ãƒªãƒã‚¸ãƒˆãƒª
    Layer.provide(Layer.mergeAll(InMemoryEventStore, InMemoryEventBus))
  )
);

// ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå®Ÿè£…ã«ã‚ˆã‚‹é«˜é€Ÿãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
// å®Ÿéš›ã®DB/å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ä¾å­˜ã‚’æ’é™¤
// Effect-TSã®Layeråˆæˆã«ã‚ˆã‚‹ä¾å­˜æ€§æ³¨å…¥
```

#### ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³æ´»ç”¨ã®å¿…é ˆãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// âœ… ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
yield* thenRegistrationSessionCreatedEventIsPublished(
  capturedEvents, sessionId, studentId, term
);
yield* thenRegistrationSessionCanBeRetrieved(sessionId, studentId, term);

// âŒ ç›´æ¥ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆéæ¨å¥¨ï¼‰
const events = yield* Ref.get(capturedEvents);
expect(events).toHaveLength(1);
expect(events[0]._tag).toBe("RegistrationSessionCreated");
// è©³ç´°æ¤œè¨¼ãŒå†—é•·ã«ãªã‚Šã€å†åˆ©ç”¨æ€§ãŒä½ã„
```

#### æ—¥æœ¬èªãƒ†ã‚¹ãƒˆåã®å‘½ååŸºæº–
```typescript
// âœ… è‰¯ã„ä¾‹: ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã‚’è¡¨ç¾ã™ã‚‹æ—¥æœ¬èªå
describe("ã‚¹ãƒˆãƒ¼ãƒªãƒ¼1: å±¥ä¿®ç™»éŒ²ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹", () => {
  it("å­¦ç”ŸãŒæ–°å­¦æœŸã®å±¥ä¿®è¨ˆç”»ã‚’é–‹å§‹ã™ã‚‹", () => { ... });
  it("åŒä¸€å­¦ç”Ÿãƒ»å­¦æœŸã§ã®é‡è¤‡ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆã‚’é˜²æ­¢ã™ã‚‹", () => { ... });
  it("è¤‡æ•°å­¦ç”Ÿã®ä¸¦è¡Œå±¥ä¿®è¨ˆç”»ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹", () => { ... });
});

// âŒ æ‚ªã„ä¾‹: æŠ€è¡“çš„è©³ç´°ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸå‘½å
describe("RegistrationSession", () => {
  it("should create session with valid input", () => { ... });
  it("should throw error on duplicate", () => { ... });
});
```

### ãƒ†ã‚¹ãƒˆè¦ç´„ï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
1. **AcceptanceTDDå„ªå…ˆ**: æ®µéšçš„å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆå®Ÿè£…æœ€å„ªå…ˆ
2. **ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³å¿…é ˆ**: è¤‡é›‘ãªæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã¯å†åˆ©ç”¨å¯èƒ½ãªé–¢æ•°åŒ–
3. **Effect.flipæ´»ç”¨**: å¤±æ•—ãƒ†ã‚¹ãƒˆã¯å¿…ãšEffect.flipãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
4. **æ—¥æœ¬èªå‘½å**: ãƒ†ã‚¹ãƒˆåã¯æ—¥æœ¬èªã§ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã‚’è¡¨ç¾
5. **TestLayerçµ±ä¸€**: æ¨™æº–çš„ãªLayeræ§‹æˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨
6. **çµ±åˆãƒ†ã‚¹ãƒˆä¿ç•™**: ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆã§ä»£æ›¿
7. **90%+ã‚«ãƒãƒ¬ãƒƒã‚¸**: å“è³ªåŸºæº–ã®ç¶­æŒå¿…é ˆ
8. **ROIé‡è¦–**: æŠ•è³‡å¯¾åŠ¹æœã‚’è€ƒæ…®ã—ãŸãƒ†ã‚¹ãƒˆå®Ÿè£…åˆ¤æ–­

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤
```typescript
// âŒ æ‚ªã„ä¾‹: ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å€¤ä½¿ç”¨
function createSession(studentId: string, term: string) { ... }

// âœ… è‰¯ã„ä¾‹: Brandå‹ä½¿ç”¨
function createSession(studentId: StudentId, term: Term) { ... }

// âŒ æ‚ªã„ä¾‹: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã«æ¼ã‚Œã‚‹
// application layer
const event = new RegistrationSessionCreated({ ... });

// âœ… è‰¯ã„ä¾‹: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã«
// domain layer
export const createRegistrationSession = (...) => new RegistrationSessionCreated({ ... });
// application layer
const event = createRegistrationSession(...);
```

#### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
```typescript
// âŒ æ‚ªã„ä¾‹: ä¾‹å¤–æŠ•ã’ã‚‹
if (!session) throw new Error("Session not found");

// âœ… è‰¯ã„ä¾‹: Effectå‹ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
const session = yield* repository.findById(sessionId).pipe(
  Effect.flatMap(Option.match({
    onNone: () => Effect.fail(new SessionNotFound({ sessionId })),
    onSome: Effect.succeed
  }))
);
```

#### ãƒ†ã‚¹ãƒˆ
```typescript
// âŒ æ‚ªã„ä¾‹: å®Ÿè£…è©³ç´°ã®ãƒ†ã‚¹ãƒˆ
it("å†…éƒ¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã‚’å‘¼ã³å‡ºã™", () => {
  // å†…éƒ¨å®Ÿè£…ã«ä¾å­˜ã™ã‚‹ãƒ†ã‚¹ãƒˆ
});

// âœ… è‰¯ã„ä¾‹: ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã®ãƒ†ã‚¹ãƒˆ
it("AC1: 12å˜ä½ä»¥ä¸Šã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æå‡ºã§ãã‚‹", async () => {
  const sessionId = yield* setupTestSession(studentId, term, [4, 4, 4]);
  yield* submitRegistrationSession({ sessionId, submittedBy: studentId });
  yield* assertSessionSubmittedSuccessfully({ sessionId, capturedEvents });
});

// âœ… è‰¯ã„ä¾‹: ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ä½¿ç”¨
yield* assertSessionCreatedSuccessfully({
  sessionId, expectedStudentId, expectedTerm, capturedEvents
});

// âœ… è‰¯ã„ä¾‹: Effect.flipã«ã‚ˆã‚‹å¤±æ•—ãƒ†ã‚¹ãƒˆ
const error = yield* createRegistrationSession({ studentId, term }).pipe(
  Effect.flip
);
// ã‚¨ãƒ©ãƒ¼ã‚’Successã¨ã—ã¦æ‰±ã„ã€ãã®å¾Œã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
assertDuplicateSessionError(error, expectedSessionId);
```

## ã¾ã¨ã‚

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **é«˜å“è³ªãªåŸºç›¤å®Ÿè£…** ã‚’æŒã¤å„ªç§€ãªãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã§ã™ã€‚Effect-TSã«ã‚ˆã‚‹é–¢æ•°å‹CQRS/ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…ä¾‹ã¨ã—ã¦ä¾¡å€¤ãŒã‚ã‚Šã€ä»Šå¾Œã®æ®µéšçš„ãªæ©Ÿèƒ½æ‹¡å¼µã«ã‚ˆã‚Šæœ¬æ ¼çš„ãªå±¥ä¿®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã«ç™ºå±•å¯èƒ½ã§ã™ã€‚

**ç¾åœ¨ã®ä¾¡å€¤**:
- âœ… ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’ãƒ»å‚è€ƒå®Ÿè£…
- âœ… Effect-TSã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- âœ… CQRS/ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ã®å®Ÿè·µä¾‹
- âœ… å‹å®‰å…¨ãªé–¢æ•°å‹DDDå®Ÿè£…

**ä»Šå¾Œã®ç™ºå±•æ€§**:
- ğŸ¯ ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ¬ãƒ™ãƒ«ã®å±¥ä¿®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ¯ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸºç›¤
- ğŸ¯ Effect-TSã«ã‚ˆã‚‹å¤§è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã®å‚è€ƒå®Ÿè£…

é©åˆ‡ãªé–‹ç™ºãƒªã‚½ãƒ¼ã‚¹ãŒæŠ•å…¥ã•ã‚Œã‚Œã°ã€**6-12ãƒ¶æœˆã§ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å¯¾å¿œ**ã®å±¥ä¿®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ãŒå¯èƒ½ãªå„ªç§€ãªåŸºç›¤ã§ã™ã€‚

## ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ æ´»ç”¨ã‚¬ã‚¤ãƒ‰

### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ¦‚è¦
ç‰¹åŒ–å‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹æ®µéšçš„é–‹ç™ºæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ã€‚ä¸€è²«ã—ãŸå“è³ªã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é–‹ç™ºåŠ é€Ÿã€‚

**ä¸»è¦ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ**:
1. **domain-expert**: è¦ä»¶æ•´ç†ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä½œæˆ
2. **designing-committer**: CQRSæŠ€è¡“è¨­è¨ˆãƒ»ã‚¿ã‚¹ã‚¯åˆ†è§£
3. **programming-committer**: TDDå®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆé€šé
4. **refactoring-committer**: ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Šãƒ»æŠ€è¡“çš„è² å‚µè§£æ¶ˆ
5. **qa-ing-committer**: ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ»å“è³ªæ¤œè¨¼
6. **retrospecting-committer**: æŒ¯ã‚Šè¿”ã‚Šãƒ»ç¶™ç¶šæ”¹å–„

### æ¨™æº–é–‹ç™ºãƒ•ãƒ­ãƒ¼
```
domain-expert â†’ designing-committer â†’ programming-committer â†’ [refactoring-committer] â†’ qa-ing-committer
```

**æˆæœç‰©ç®¡ç†**: `.claude/tmp/{story-name}/` ã«ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å˜ä½ã§ä¿å­˜
- `user-story.md` (domain-expert)
- `design-and-tasks.md` (designing-committer)
- `qa-report.md` (qa-ing-committer)

### å“è³ªåŸºæº–çµ±ä¸€
- å…¨ãƒ†ã‚¹ãƒˆé€šéã€TypeScriptã‚¨ãƒ©ãƒ¼0ã€ã‚«ãƒãƒ¬ãƒƒã‚¸90%ä»¥ä¸Š
- Effect-TSãƒ‘ã‚¿ãƒ¼ãƒ³å¼·åˆ¶ã€AcceptanceTDDå¿…é ˆ
